## linux发行版本
linux是一个开源的##操作系统##，目前市面上占有率极高的服务器操作系统，有很多分支

操作系统是管理和控制计算机硬件和计算机软件的程序。是直接运行在裸机上的最基本的系统软件。其他应用软件必须依靠系统软件运行。

常见的操作系统有
windows mac linux unix

redhat fedora linux社区版 ubuntu debain gnu/linux

linux一般是命令行系统，也有桌面版本，如ubuntu，redhat

## linux系统启动过程
可分为5个阶段
1. 内核引导 /boot
2. 运行init init进程,运行级别 /etc/init.d
3. 系统初始化  
4. 建立[终端](Terminal)
5. 用户登录linux系统--login shell

### linux目录介绍
linux和unix操作系统中，所有文件和目录都被组织成以一个根节点开始的倒置的树状结构

#### 重要目录
在linux系统中，有几个目录是比较重要的，平时需要注意不要误删除或者随意更改内部文件。

/etc： 上边也提到了，这个是系统中的配置文件，如果你更改了该目录下的某个文件可能会导致系统不能启动。

/bin, /sbin, /usr/bin, /usr/sbin: 这是系统预设的执行文件的放置目录，比如 ls 就是在/bin/ls 目录下的。值得提出的是，/bin, /usr/bin 是给系统用户使用的指令（除root外的普通用户），而/sbin, /usr/sbin 则是给root使用的指令。 

/var： 这是一个非常重要的目录，系统上跑了很多程序，那么每个程序都会有相应的日志产生，而这些日志就被记录到这个目录下，具体在/var/log 目录下，另外mail的预设放置也是在这里。

/home：用户的主目录，在Linux中，每个用户都有一个自己的目录，一般该目录名是以用户的账号命名的。

/root：该目录为系统管理员，也称作超级权限者的用户主目录。

/tmp：这个目录是用来存放一些临时文件的。

/usr： 这是一个非常重要的目录，用户的很多应用程序和文件都放在这个目录下，类似与windows下的program files目录。

/根目录 linux目录不支持\反斜杠

/bin binary 存储经常使用的命令，系统##所有用户##使用的##命令##都设在这里，eg.ps,ls,ping,grep,cp

/sbin super user ##系统管理员##使用的##系统管理程序##，eg.iptables,reboot,fdisk,ifconfig,swapon

/boot：这里存放的是启动Linux时使用的一些核心文件，包括一些连接文件以及镜像文件。

/dev ：dev是Device(设备)的缩写, 该目录下存放的是Linux的外部设备，在Linux中访问设备的方式和访问文件的方式是相同的。

/etc：这个目录用来存放所有的##系统管理##所需要的##配置文件##和##子目录##。也包含了用于启动/停止单个程序的启动和关闭shell脚本

/lib：这个目录里存放着系统最基本的动态连接共享库，其作用类似于Windows里的DLL文件。几乎所有的应用程序都需要用到这些共享库。

/lost+found：这个目录一般情况下是空的，当系统非法关机后，这里就存放了一些文件。

/media linux系统会自动识别一些设备，例如U盘、光驱等等，当识别后，linux会把识别的设备挂载到这个目录下。

/mnt：系统提供该目录是为了让用户临时挂载别的文件系统的，我们可以将光驱挂载在/mnt/上，然后进入该目录就可以查看光驱里的内容了。

/opt： 这是给主机额外安装软件所摆放的目录。比如你安装一个ORACLE数据库则就可以放到这个目录下。默认是空的。

/proc：这个目录是一个虚拟的目录，它是系统内存的映射，我们可以通过直接访问这个目录来获取系统信息。

/selinux： 这个目录是RedhatCentOS所特有的目录，Selinux是一个安全机制，类似于windows的防火墙，但是这套机制比较复杂，这个目录就是存放selinux相关的文件的。

/srv： 该目录存放一些服务启动之后需要提取的数据。

/sys： 这是linux2.6内核的一个很大的变化。该目录下安装了2.6内核中新出现的一个文件系统 sysfs 。

sysfs文件系统集成了下面3种文件系统的信息：针对进程信息的proc文件系统、针对设备的devfs文件系统以及针对伪终端的devpts文件系统。

/usr/bin：系统用户使用的应用程序。

/usr/sbin：超级用户使用的比较高级的管理程序和系统守护程序。

/usr/src：内核源代码默认的放置目录。

/var：这个目录中存放着在不断扩充着的东西，我们习惯将那些经常被修改的目录放在这个目录下。包括各种日志文件。


### 何为bash
bash(bourne again shell),是人们广泛使用的shell.
### 何为shell
在计算机科学中，Shell俗称壳（用来区别于核），是指“提供使用者使用界面”的软件（命令解析器）,用来使用户与计算机系统进行交互，执行用户输入的命令

用户通过shell来使用linux系统：
```
用户使用shell连接linux系统时的界面：
[root@localhost ~]# 含义：（当前登陆用户）系统管理员 在 主机名称 目录 命令提示符（#:root用户，$:普通用户）
一句话总结就是：你使用的哪个账号在哪台机器的哪个目录中（命令提示符的作用：你可以根据命令提示符来看到自己使用的账户是系统管理员还是普通用户）
```
### 何为ssh
secure shell 安全外壳协议，专为远程登陆会话和其他网络服务提供安全性的协议。

在客户机上使用ssh客户端来连接支持ssh协议的服务器

常用的ssh客户端工具：secureCRT putty（windows）XShell
### linux 命令基础
#### linux语法格式
如何使用linux命令？linux的命令结构是这样的：
```
[root@localhost ~]#命令 选项 参数
eg. [root@localhost ~]#ls(命令) -l(选项) etc(参数)
```
### linux最常用的指令
查看Liunx内核版本
uname -r:简单的查看linux版本
uname -a:查看全部linux版本的信息
#### 关机命令
1)  shutdown -h now, shutdown -h 1:1分钟之后关机

2)  halt

3)  poweroff

4)  init 0;0：关机的级别

#### 重启命令
（1）shutdown -r now

（2）reboot

（3）init 6，6：重启的级别

网络管理命令
ifconfig:显示网络的信息

###目录命令
. ：代表当前的目录，也可以使用 ./ 来表示；

.. ：代表上一层目录，也可以 ../ 来代表。

#### 查看目录
命令说明
```
ls：list
语法：ls 选项 参数
选项如下：
-a:显示全部的目录或者是文件
-l:详细的显示文件和目录的信息
-d:显示目录
-R:递归显示文件和目录
-m:横向显示文件和目录，在文件或者目录的尾部加上一个”,”
-i: 显示节点数
-h：human readable 以kb，mb，gb显示字节数

dir：显示目录结构，相当于：ls
vdir：显示目录结构，相当于:ls -l
eg. ls -ld /etc 只显示目录
```
#### 显示当前的工作目录
命令说明
pwd:Printing Working Directory
语法：pwd
#### 切换目录
命令说明
cd：Change Directory
语法：cd 选项 参数
两个特殊的目录 . 和 .. ，分别代表当前目录和当前目录的父目录。
>eg. cd ../ 将当前的目录改变为上一级
### 建立目录
命令说明
mkdir：Make  Directory
语法：mkdir 选项 参数
选项如下：
-p:递归创建目录
>eg. mkdir php ; mkdir -p /my/php/
### 复制目录和文件
命令说明
cp：copy
语法：cp 选项 参数
选项如下：
-r:递归复制目录

> eg. cp -r a b //递归拷贝目录a到目录b
> cp a.txt ./dir //将文件a.txt拷贝至当前目录的dir目录中

### 移动和剪切目录和文件或者是重命名目录和文件
命令说明
mv：Move  
语法：mv 选项 参数
mv a.txt ./d

删除目录和文件
删除目录的命令说明
rm：remove
语法：rm 选项 参数
-i:删除的时候，它会询问(interactive)
-f:强制删除文件和目录（force）
-r:递归删除文件和目录
rm -fr a //递归并强制删除a目录

删除空目录
删除目录的命令说明
rmdir：remove Directory
rmdir php //如果目录中有文件则不能删除，先递归删除文件

文件查看命令
8.1 由第一行显示文件内容
命令说明
cat：concatenate
cat命令的全称：
concatenate files and print on the standard output
语法：cat 选项 参数
cat -n /etc/profile //查看内容并显示行号（从前往后看）

由最后一行显示文件内容
命令说明
tac：
语法：tac 选项 参数
tac -n /etc/profile //由最后一行起显示文件内容（从后往前看，和cat相反）
tac --help //查看帮助文档

输出行号显示文件内容
命令说明
nl：
语法：nl 选项 参数
nl /etc/profile //查看内容并显示行号

分页显示文件内容
命令说明
more：
语法：more 选项 参数
more /etc/profile

分页查看快捷键的使用：
上一页：b,Ctrl+b
下一页：空格键，ctrl+f
退出键：q
显示行号和当前的文件：(：f)

向前分页显示文件内容
命令说明
less：
语法：less 选项 参数
eg. less /etc/profile
分页查看快捷键的使用：
上一页：pageup
下一页：pagedown
退出键：q

只看头几行
命令说明
head：
语法：head 选项 参数
head -n 15 /etc/profile （默认10行）

查看尾部文件内容
命令说明
tail：
语法：tail 选项 参数
用法和less一样

新建文件（touch）
命令说明
touch：
语法：touch 选项 参数
touch a.txt b.txt //可以建多个

编辑（创建：如果没有）一个文件
使用vim,vi
vim t1.txt

查看文件的类型
命令说明
file：
语法：file 选项 参数
eg. file bin ;结果 ：bin:directory

字数统计, wc, word count
命令说明
wc：word count
语法：wc 选项 参数
会同时统计, 行数, 词数, 字符数.
eg. wc ~/install.log;result: 1163行数 2339单词数量 47688字符数 install.log 

Linux快捷键的使用
1.ctrl+a:光标移动到命令行开头。
2.ctrl+e:光标移动到命令行结尾。
3.ctrl+c:停止命令的执行，终止当前的进程。
4.ctrl+d:结束命令，退出。
5.ctrl+m:回车键。
6.↑↓方向键:历史记录命令的切换。
7.tab：自动补全文件名和目录名称。

一.链接文件
Linux中创建的软链接，相当于我们在windows当中创建一个快捷方式。

创建硬链接文件（ln）
命令格式说明
语法： ln 源文件 硬链接
ln t.php(源文件) t.php.hardlink（链接文件）
向源文件中填写内容，硬链接文件同步也有内容
显示源文件和链接文件的节点数
[261146](节点数) -wrw-r--r--. 2 root root 12 5月 20 09：17 t.php
[261146](节点数) -wrw-r--r--. 2 root root 12 5月 20 09：17 t.php.hardlink
rm -f t.php //删除源文件，硬链接的内同还可以访问，因为有相同的节点数

关于inode节点:
inode ：索引节点。每个存储设备被格式化为文件系统后，有两部份，一部份是inode，另一部份是Block，Block是用来存储数据的，而inode就是用来存储这些数据的信息，这些信息包括文件大小、属主、属组、读写权限等。
好比一本书，存储设备或分区就相当于这本书，Block相当于书中的每一页，inode 就相当于这本书前面的目录。

1.2 创建软链接文件
命令格式说明
语法： ln 选项 源文件 软链接
选项：-s
-s:软链接
ln -s t.php t.php.softlink
向源文件添加内容 vim t.php
ls -li 
查看源文件和软链接文件的节点数
[261146](节点数) -wrw-r--r--. 2 root root 12 5月 20 09：17 t.php
[261168](节点数) -wrw-r--r--. 2 root root 12 5月 20 09：17 t.php.softlink -> t.php
rm -f t.php //删除源文件，不能再访问软连接文件了，因为没有共同的节点数

文件查找
2.1 find查找
有时候，我们查找所需要的文件，比如对文件进行编辑，修改配置等。
(1)按-name（文件名）查找，实例如下：
eg. find /ext(要查找的目录) -name（按文件名进行擦好找） t.php（要查找的文件）;result: /ext/t.php
(2)按-size（大小）查找，实例如下：
显示文件的大小，以kb,mb,gb来显示，
ls -hl:
-h:human readable以kb,mb,gb来显示
find /a -size -3k(小于3kb的文件)
(3)按-type（类型）查找，实例如下：
file /dev/port //输出文件类型
find / -type c(查找字符类型)
(4)找到文件之后直接删除文件，实例如下：
find /a1 -name t3.php -exec(执行删除操作) rm {} \;

grep查找
grep(global search regular expression and print out the line),全面搜索正则表达式搜索文本并把行打印出来是一种强大的文本搜索工具。
命令格式说明：
语法：grep  选项   ‘搜索的字符串’   目录文件名
选项：
-n:查看行号
功能作用描述：查找指定文件中的字符串
grep peter /etc/passwd

locate命令
find对于大批量的搜索而言，还是慢，这时候，Locate命令会比较快。在数据库查找文件，locate指令预设的数据库位于/var/lib/mlocate目录里（依据/var/lib/mlocate/mlocate.db内的资料库记载）
命令格式说明
语法： locate  选项 文件名
功能描述：快速的查找文件
eg. locate cd
查看数据库中的数据
/var/lib/mlocate/mlocate.db

whereis 命令
和find命令相比较，whereis 查找的速度非常快，当使用whereis也会从数据库中查找数据，whereis命令只能用于程序名的搜索，而且只搜索二进制文件、man说明文件和源代码文件。
命令格式说明
语法：whereis 选项 文件名



## 开启服务
service nginx restart

## 查看web服务器日志
journalctl -xe 查看nginx错误日志

## 查看进程、端口号
- netstat -anp | grep 80 
- netstat -anp | grep nginx 
- netstat -lnt 查看监听端口

## 关闭防火墙
- centos7  

      1、直接关闭防火墙
      systemctl stop firewalld.service #停止firewall
      systemctl disable firewalld.service #禁止firewall开机启动
      2、设置 iptables service
      yum -y install iptables-services
      如果要修改防火墙配置，如增加防火墙端口3306
      vi /etc/sysconfig/iptables 
      增加规则
      
      -A INPUT -m state --state NEW -m tcp -p tcp --dport 3306 -j ACCEPT
      
      保存退出后
      
      systemctl restart iptables.service #重启防火墙使配置生效
      
      systemctl enable iptables.service #设置防火墙开机启动
      
      最后重启系统使设置生效即可。
## web服务器
- 查看nginx版本 nginx -V
- 查看linux版本 cat 

## 查看历史命令

    history [n] 列出最近n条指令
    
    linux的history命令的作用是，记录执行过的命令。
    用法：
    history [n]  n为数字，列出最近的n条命令
    -c  将目前shell中的所有history命令消除
    history [-raw] histfiles
    -a 将目前新增的命令写入histfiles, 默认写入~/.bash_history
    -r  将histfiles内容读入到目前shell的history记忆中
    -w 将目前history记忆的内容写入到histfiles
    
## $HOME 
- 用命令echo $HOME查看
- 如果用户是root,那它的家目录是/root;
- 否则其它用户的家目录默认是/home这个目录下
- 比如说你的用户名叫abc,那默认是/home/abc。



## note
### 何为终端
也称作终端设备，是计算机网络中处于网络最外围的设备，主要用于用户信息的输入以及处理结果的输出等。

在早期计算机系统中，由于计算机主机昂贵，因此一个主机（IBM大型计算机）一般会配置多个终端，这些终端本身不具备计算能力，仅仅承担信息输入输出的工作，运算和处理均由主机来完成。

在个人计算机时代，个人计算机可以运行称为终端仿真器的程序来模仿一个终端的工作。

随着移动网络的发展，移动终端（如手机、PAD）等得到了广泛的应用。此时，终端不仅能承担输入输出的工作，同时也能进行一定的运算和处理，实现部分系统功能。

